<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>svg2pdf - Convert SVG to PDF</title>
	<script src="../../jspdf/jspdf.umd.js"></script><!-- required, depend -->
	<script src="../svg2pdf.umd.js"></script><!-- required -->
	<script src="../../dom-purify/purify.js"></script><!-- optional-->

	<!-- demo / sample only -->
	<link rel="stylesheet" type="text/css" href="../../../../../lib/js/jseditcode/codemirror/lib/codemirror.css">
	<link rel="stylesheet" type="text/css" href="../../../../../lib/js/jseditcode/codemirror/theme/uxm.css">
	<script type="text/javascript" src="../../../../../lib/js/jseditcode/codemirror/lib/codemirror.js"></script>
	<script type="text/javascript" src="../../../../../lib/js/jseditcode/codemirror/mode/xml/xml.js"></script>

	<link rel="stylesheet" href="sample.css">
</head>
<body>
<div class="content">
	<div class="description">
		<h2>Svg2Pdf Playground</h2>
	</div>
	<div class="cards-container">
		<div>
			<h3>SVG Text</h3>
			<div id="editor"></div>
		</div>
		<div>
			<h3>SVG</h3>
			<div id="svg-container"></div>
		</div>
		<div>
			<h3>PDF</h3>
			<div id="pdf-container">
				<iframe id="pdf-iframe"></iframe>
			</div>
		</div>
	</div>
</div>
<script>

const defaultSample = `%3Csvg%20viewBox%3D%220%200%20128%20128%22%20width%3D%22128%22%20height%3D%22128%22%20fill%3D%22%23777788%22%20shape-rendering%3D%22geometricPrecision%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20version%3D%221.1%22%3E%3Cpath%20transform%3D%22matrix(5.3333%2C0%2C0%2C5.3333%2C8%2C8)%22%20d%3D%22M-0.55%2C0a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM0.44999999999999996%2C0a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM1.45%2C0a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM2.45%2C0a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM3.45%2C0a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM4.45%2C0a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM5.45%2C0a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM7.45%2C0a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM8.45%2C0a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM13.45%2C0a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM14.45%2C0a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM15.45%2C0a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM16.45%2C0a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM17.45%2C0a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM18.45%2C0a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM19.45%2C0a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM-0.55%2C1a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM5.45%2C1a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM8.45%2C1a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM11.45%2C1a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM13.45%2C1a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM19.45%2C1a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM-0.55%2C2a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM1.45%2C2a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM2.45%2C2a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM3.45%2C2a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM5.45%2C2a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM8.45%2C2a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM9.45%2C2a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM11.45%2C2a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM13.45%2C2a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM15.45%2C2a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM16.45%2C2a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM17.45%2C2a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM19.45%2C2a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM-0.55%2C3a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM1.45%2C3a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM2.45%2C3a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM3.45%2C3a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM5.45%2C3a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM9.45%2C3a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM10.45%2C3a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM11.45%2C3a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM13.45%2C3a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM15.45%2C3a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM16.45%2C3a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM17.45%2C3a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM19.45%2C3a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM-0.55%2C4a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM1.45%2C4a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM2.45%2C4a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM3.45%2C4a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM5.45%2C4a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM7.45%2C4a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM9.45%2C4a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM11.45%2C4a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM13.45%2C4a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM15.45%2C4a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM16.45%2C4a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM17.45%2C4a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM19.45%2C4a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM-0.55%2C5a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM5.45%2C5a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM9.45%2C5a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM10.45%2C5a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM11.45%2C5a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM13.45%2C5a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM19.45%2C5a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM-0.55%2C6a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM0.44999999999999996%2C6a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM1.45%2C6a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM2.45%2C6a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM3.45%2C6a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM4.45%2C6a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM5.45%2C6a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM7.45%2C6a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM9.45%2C6a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM11.45%2C6a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM13.45%2C6a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM14.45%2C6a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM15.45%2C6a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM16.45%2C6a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM17.45%2C6a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM18.45%2C6a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM19.45%2C6a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM7.45%2C7a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM8.45%2C7a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM9.45%2C7a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM11.45%2C7a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM-0.55%2C8a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM2.45%2C8a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM3.45%2C8a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM4.45%2C8a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM5.45%2C8a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM6.45%2C8a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM7.45%2C8a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM8.45%2C8a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM11.45%2C8a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM12.45%2C8a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM13.45%2C8a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM15.45%2C8a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM19.45%2C8a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM-0.55%2C9a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM0.44999999999999996%2C9a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM2.45%2C9a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM4.45%2C9a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM7.45%2C9a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM9.45%2C9a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM10.45%2C9a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM11.45%2C9a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM12.45%2C9a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM14.45%2C9a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM15.45%2C9a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM16.45%2C9a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM17.45%2C9a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM0.44999999999999996%2C10a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM1.45%2C10a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM5.45%2C10a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM6.45%2C10a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM12.45%2C10a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM13.45%2C10a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM14.45%2C10a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM15.45%2C10a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM16.45%2C10a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM19.45%2C10a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM0.44999999999999996%2C11a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM1.45%2C11a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM4.45%2C11a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM6.45%2C11a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM7.45%2C11a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM8.45%2C11a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM9.45%2C11a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM14.45%2C11a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM15.45%2C11a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM16.45%2C11a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM17.45%2C11a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM1.45%2C12a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM2.45%2C12a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM3.45%2C12a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM5.45%2C12a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM6.45%2C12a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM8.45%2C12a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM11.45%2C12a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM12.45%2C12a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM13.45%2C12a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM14.45%2C12a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM16.45%2C12a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM19.45%2C12a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM7.45%2C13a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM8.45%2C13a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM9.45%2C13a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM10.45%2C13a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM11.45%2C13a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM12.45%2C13a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM13.45%2C13a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM15.45%2C13a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM18.45%2C13a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM19.45%2C13a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM-0.55%2C14a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM0.44999999999999996%2C14a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM1.45%2C14a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM2.45%2C14a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM3.45%2C14a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM4.45%2C14a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM5.45%2C14a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM7.45%2C14a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM8.45%2C14a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM9.45%2C14a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM13.45%2C14a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM15.45%2C14a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM17.45%2C14a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM18.45%2C14a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM19.45%2C14a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM-0.55%2C15a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM5.45%2C15a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM7.45%2C15a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM11.45%2C15a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM12.45%2C15a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM14.45%2C15a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM15.45%2C15a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM18.45%2C15a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM-0.55%2C16a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM1.45%2C16a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM2.45%2C16a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM3.45%2C16a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM5.45%2C16a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM7.45%2C16a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM8.45%2C16a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM9.45%2C16a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM10.45%2C16a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM12.45%2C16a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM13.45%2C16a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM14.45%2C16a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM15.45%2C16a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM17.45%2C16a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM18.45%2C16a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM-0.55%2C17a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM1.45%2C17a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM2.45%2C17a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM3.45%2C17a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM5.45%2C17a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM7.45%2C17a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM8.45%2C17a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM12.45%2C17a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM16.45%2C17a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM17.45%2C17a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM18.45%2C17a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM-0.55%2C18a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM1.45%2C18a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM2.45%2C18a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM3.45%2C18a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM5.45%2C18a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM9.45%2C18a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM13.45%2C18a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM16.45%2C18a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM-0.55%2C19a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM5.45%2C19a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM8.45%2C19a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM9.45%2C19a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM10.45%2C19a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM12.45%2C19a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM13.45%2C19a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM14.45%2C19a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM15.45%2C19a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM16.45%2C19a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM-0.55%2C20a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM0.44999999999999996%2C20a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM1.45%2C20a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM2.45%2C20a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM3.45%2C20a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM4.45%2C20a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM5.45%2C20a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM7.45%2C20a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM10.45%2C20a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM11.45%2C20a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM12.45%2C20a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM16.45%2C20a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20ZM19.45%2C20a0.55%2C0.55%200%201%2C0%201.1%2C0a0.55%2C0.55%200%201%2C0%20-1.1%2C0%20Z%22%3E%3C%2Fpath%3E%3C%2Fsvg%3E`;

const { jsPDF } = window.jspdf;

//-- optional
const DOMPurify = window.DOMPurify
DOMPurify.addHook('afterSanitizeAttributes', node => {
	if (
		(node.hasAttribute('xlink:href') && !node.getAttribute('xlink:href').match(/^#/)) ||
		(node.hasAttribute('href') && !node.getAttribute('href').match(/^#/))
	) {
		node.remove()
	}
});
//-- #

const editor = CodeMirror(document.getElementById('editor'), {
	lineNumbers: true,
	mode: 'xml'
});

const doc = editor.getDoc();

window.addEventListener('load', () => {
	doc.setValue(decodeURIComponent(defaultSample))
});

editor.on(
	'change',
	debounce(() => {
		//--
	//	const svgText = doc.getValue();
		const svgText = DOMPurify.sanitize(doc.getValue(), { ADD_TAGS: ['use'] }); // optional
		//--
		updateSvg(svgText)
		updatePdf()
	})
);

function debounce(f) {
	let timeout
	return () => {
		if (timeout) {
			clearTimeout(timeout)
		}
		timeout = setTimeout(() => {
			f()
			timeout = undefined
		}, 100)
	}
}

function updateSvg(svgText) {
	document.getElementById('svg-container').innerHTML = svgText
}

async function updatePdf() {
	const svgElement = document.getElementById('svg-container').firstElementChild
	svgElement.getBoundingClientRect() // force layout calculation
	const width = svgElement.width.baseVal.value
	const height = svgElement.height.baseVal.value
	const pdf = new jsPDF(width > height ? 'l' : 'p', 'pt', [width, height])

	await pdf.svg(svgElement, { width, height })

	document.getElementById('pdf-iframe').setAttribute('src', pdf.output('datauristring'))
}

</script>
</body>
</html>